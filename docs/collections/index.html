<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Collections - Hugo Whisper Theme</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="www.example.com/favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  
  
  
  <link rel="stylesheet" href="/www.example.com/css/style.min.f31edf12f81d9ad5234f2b100646ce1f51e3ab0f6a37c940a43bcd79513204c3.css">
  

  

</head>

<body class='page page-default-single'>

  <div class="github-fork-ribbon-wrapper right">
      <div class="github-fork-ribbon">
          <a href="https://github.com/mbdavid/litedb">Fork me on GitHub</a>
      </div>
  </div>

  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="www.example.com/">
        <span>HOME</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="www.example.com/docs/">
        <span>DOCS</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="www.example.com/api/">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-download">
      <a href="https://www.nuget.org/packages/LiteDB/">
        <span>DOWNLOAD</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="www.example.com"><img alt="Logo" src="/www.example.com/logo_litedb.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="www.example.com"><img alt="Logo" src="/www.example.com/logo_litedb.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="www.example.com/">
        <span>HOME</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="www.example.com/docs/">
        <span>DOCS</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="www.example.com/api/">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-download">
      <a href="https://www.nuget.org/packages/LiteDB/">
        <span>DOWNLOAD</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="www.example.com/docs/bsondocument/">BsonDocument</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/changelog/">ChangeLog</a>
    </li>
    
    <li class="active ">
      <a href="www.example.com/docs/collections/">Collections</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/concurrency/">Concurrency</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/connection-string/">Connection String</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/data-structure/">Data Structure</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/dbref/">DbRef</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/expressions/">Expressions</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/filestorage/">FileStorage</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/getting-started/">Getting Started</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/how-litedb-works/">How LiteDB Works</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/indexes/">Indexes</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/object-mapping/">Object Mapping</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/queries/">Queries</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/repository-pattern/">Repository Pattern</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Collections</h1>
<div class="content">
  

<p>Documents are stored and organized in collections. <code>LiteCollection</code> is a generic class to manage collections in LiteDB. Each collection must have a unique name:</p>

<ul>
<li>Contains only letters, numbers and <code>_</code></li>
<li>Collection names are <strong>case insensitive</strong></li>
<li>Collection names starting with <code>_</code> are reserved for internal use</li>
</ul>

<p>The total size of all the collections names in a database is limited to 3000 bytes. If you plan to have many collections in your database, make sure to use short names for your collections. For example, if collection names are about 10 bytes in length, you can have ~300 collection in the database.</p>

<p>Collections are auto created on first <code>Insert</code> or <code>EnsureIndex</code> operation. Running a query, delete or update on a document in a non existing collection does not create one.</p>

<p><code>LiteCollection&lt;T&gt;</code> is a generic class that can be used with <code>&lt;T&gt;</code> as <code>BsonDocument</code> for schema-less documents.  Internally LiteDB converts <code>T</code> to <code>BsonDocument</code> and all operations use the this generic document.</p>

<p>In this example, both code snippets produce the same results.</p>
<div class="highlight"><pre class="chroma"><code class="language-C#" data-lang="C#"><span class="c1">// Strong Type Class
</span><span class="c1"></span><span class="n">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">db</span> <span class="p">=</span> <span class="k">new</span> <span class="n">LiteDatabase</span><span class="p">(</span><span class="s">&#34;mydb.db&#34;</span><span class="p">))</span>
<span class="p">{</span>
    <span class="c1">// Get collection instance
</span><span class="c1"></span>    <span class="kt">var</span> <span class="n">col</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">GetCollection</span><span class="p">&lt;</span><span class="n">Customer</span><span class="p">&gt;(</span><span class="s">&#34;customer&#34;</span><span class="p">);</span>
    
    <span class="c1">// Insert document to collection - if collection do not exists, create now
</span><span class="c1"></span>    <span class="n">col</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span><span class="k">new</span> <span class="n">Customer</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Name</span> <span class="p">=</span> <span class="s">&#34;John Doe&#34;</span> <span class="p">});</span>
    
    <span class="c1">// Create, if not exists, new index on Name field
</span><span class="c1"></span>    <span class="n">col</span><span class="p">.</span><span class="n">EnsureIndex</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
    
    <span class="c1">// Now, search for document your document
</span><span class="c1"></span>    <span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="n">col</span><span class="p">.</span><span class="n">FindOne</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="s">&#34;john doe&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Generic BsonDocument
</span><span class="c1"></span><span class="n">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">db</span> <span class="p">=</span> <span class="k">new</span> <span class="n">LiteDatabase</span><span class="p">(</span><span class="s">&#34;mydb.db&#34;</span><span class="p">))</span>
<span class="p">{</span>
    <span class="c1">// Get collection instance
</span><span class="c1"></span>    <span class="kt">var</span> <span class="n">col</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">GetCollection</span><span class="p">(</span><span class="s">&#34;customer&#34;</span><span class="p">);</span>
    
    <span class="c1">// Insert document to collection - if collection do not exists, create now
</span><span class="c1"></span>    <span class="n">col</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span><span class="k">new</span> <span class="n">BsonDocument</span><span class="p">().</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;_id&#34;</span><span class="p">,</span> <span class="m">1</span><span class="p">).</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="s">&#34;John Doe&#34;</span><span class="p">));</span>
    
    <span class="c1">// Create, if not exists, new index on Name field
</span><span class="c1"></span>    <span class="n">col</span><span class="p">.</span><span class="n">EnsureIndex</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">);</span>
    
    <span class="c1">// Now, search for document your document
</span><span class="c1"></span>    <span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="n">col</span><span class="p">.</span><span class="n">FindOne</span><span class="p">(</span><span class="n">Query</span><span class="p">.</span><span class="n">EQ</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="s">&#34;john doe&#34;</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<h1 id="litedatabase-api-instance-methods">LiteDatabase API Instance Methods</h1>

<ul>
<li><strong><code>GetCollection&lt;T&gt;</code></strong> - This method returns a new instance of <code>LiteCollection</code>. If <code>&lt;T&gt;</code> is omitted, <code>&lt;T&gt;</code> is <code>BsonDocument</code>. This is the only way to get a collection instance.</li>
<li><strong><code>RenameCollection</code></strong> - Rename a collection name only - do not change any document</li>
<li><strong><code>CollectionExists</code></strong> - Check if a collection already exists in database</li>
<li><strong><code>GetCollectionNames</code></strong> - Get all collections names in database</li>
<li><strong><code>DropCollection</code></strong> - Delete all documents, all indexes and the collection reference on database</li>
</ul>

<h3 id="litecollection-api-instance-methods">LiteCollection API Instance Methods</h3>

<ul>
<li><strong><code>Insert</code></strong> - Inserts a new document or an <code>IEnumerable</code> of documents. If your document has no <code>_id</code> field, Insert will create a new one using <code>ObjectId</code>. If you have a mapped object, <code>AutoId</code> can be used. See <a href="Object-Mapping">Object Mapping</a></li>
<li><strong><code>InsertBulk</code></strong> - Used for inserting a high volume of documents. Breaks documents into batches and controls transaction per batch. This method keeps memory usage low by cleaning a cache after each batch inserted.</li>
<li><strong><code>Update</code></strong> - Update one document identified by <code>_id</code> field. If not found, returns false</li>
<li><strong><code>Delete</code></strong> - Delete document by <code>_id</code> or by a <code>Query</code> result. If not found, returns false</li>
<li><strong><code>Find</code></strong> - Find documents using LiteDB queries. See <a href="Queries">Query</a></li>
<li><strong><code>EnsureIndex</code></strong> - Create a new index in a field. See <a href="Indexes">Indexes</a></li>
<li><strong><code>DropIndex</code></strong> - Drop an existing index</li>
</ul>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/www.example.com/js/scripts.min.bf1e1f7ae8e03db5f012356e825843facdff51c0a559cb0d27fe2bbe1db405c2.js"></script>
  

  
  
  
    
  


</body>

</html>

# BsonExpression Unit Test

{ a: 1, b: 5, c: "First", arr: [1,2] }
{ a: 2, b: 15, c: "Second", arr: [1, 3, 5, 9] }
{ a: 5, b: 10, c: "Last", arr: [1, 5, 5] }

# Run over each
> SUM(a)
= 1
= 2
= 5

# Run over all (aggregate)
>> SUM(a)
= 8
>> SUM(a*2)
= 16
>> MAX(b)
= 15
>> MAX(c)
= "Second"
>> a
= 1

# Run over each in array
> SUM(arr[0])
= 1
= 1
= 1

> SUM(arr[@=5])
= 0
= 5
= 10

# Run over all in array (aggregate)
>> SUM(arr[0])
= 3

>> SUM(arr[@=5])
= 15